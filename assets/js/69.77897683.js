(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{622:function(t,v,_){"use strict";_.r(v);var i=_(12),n=Object(i.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"c10k问题及nio精讲和io模型性能压测"}},[t._v("C10K问题及NIO精讲和IO模型性能压测")]),t._v(" "),_("p",[t._v("http://www.kegel.com/c10k.html")]),t._v(" "),_("h1",{attrs:{id:"查看路由表"}},[t._v("查看路由表")]),t._v(" "),_("p",[t._v("route -n")]),t._v(" "),_("p",[t._v("route add -host 192.168.110.100 gw 192.168.150.1")]),t._v(" "),_("p",[t._v("windows 虚拟机 VMware NAT Service")]),t._v(" "),_("h3",{attrs:{id:"bio"}},[t._v("BIO")]),t._v(" "),_("p",[t._v("BIO弊端\n阻塞 accept recv\n不阻塞只有抛线程")]),t._v(" "),_("h3",{attrs:{id:"nio"}},[t._v("NIO")]),t._v(" "),_("p",[t._v("JDK nio -> new io\nOS nio -> NONBLOCKING io")]),t._v(" "),_("h1",{attrs:{id:"追踪系统调用"}},[t._v("追踪系统调用")]),t._v(" "),_("p",[t._v("strace -ff -o out java SocketNIO")]),t._v(" "),_("h1",{attrs:{id:"ulimit-单个进程可以创建文件描述符"}},[t._v("ulimit 单个进程可以创建文件描述符")]),t._v(" "),_("p",[t._v("ulimit -a")]),t._v(" "),_("p",[t._v("ulimit -SHn 65535")]),t._v(" "),_("p",[t._v("cat /etc/security/limits.conf")]),t._v(" "),_("h1",{attrs:{id:"整个内核可以创建最多文件描述符"}},[t._v("整个内核可以创建最多文件描述符")]),t._v(" "),_("h1",{attrs:{id:"由内核估算-1g大概10万文件描述符"}},[t._v("由内核估算，1G大概10万文件描述符")]),t._v(" "),_("p",[t._v("[root@seven ~]# cat /proc/sys/fs/file-max\n382467")]),t._v(" "),_("p",[t._v("lsof -op pid\nnetstat -natp")]),t._v(" "),_("p",[t._v("优势：\n可以用1个或者多个线程解决IO连接处理问题")]),t._v(" "),_("p",[t._v("问题：\n单线程模型\naccept recv 不阻塞\n循环系统调用  recv->o(n)复杂的 很多调用无意义，浪费")])])}),[],!1,null,null,null);v.default=n.exports}}]);